<!DOCTYPE html>
<html>
<head>
<style>
  pre { background:#1e1e1e; color:#eee; padding:20px; }
  .comment { color:#6a9955; }
  .doc { color:#6a9955; font-style:italic; }
  .keyword { color:#c586c0; }
  .type { color:#4ec9b0; }
  .function { color:#dcdcaa; }
  .string { color:#ce9178; }
  .number { color:#b5cea8; }
  .operator { color:#d4d4d4; }
  .member { color:#9cdcfe; }
  .macro { color:#c586c0; }
  .regex { color:#d16969; }
  .special { color:#ffcb6b; }
</style>
</head>
<body>

<pre>
<span class="doc">//! This module demonstrates many Rust concepts in one snippet</span>

<span class="comment">// Import / Namespace</span>
<span class="keyword">use</span> <span class="namespace">std::collections::HashMap</span>;
<span class="keyword">use</span> <span class="namespace">regex::Regex</span>;

<span class="comment">// Constant</span>
<span class="keyword">const</span> <span class="member">PI</span>: <span class="type">f64</span> = <span class="number">3.1415926535</span>;

<span class="comment">// Type / Modifier</span>
<span class="keyword">pub struct</span> <span class="type">Circle</span> {
    <span class="comment">// Member Variable / Property</span>
    <span class="member">radius</span>: <span class="type">f64</span>,
}

<span class="keyword">impl</span> <span class="type">Circle</span> {
    <span class="comment">// Function with Parameter Variable</span>
    <span class="keyword">pub fn</span> <span class="function">new</span>(<span class="variable">radius</span>: <span class="type">f64</span>) -> <span class="type">Circle</span> {
        <span class="keyword">return</span> <span class="type">Circle</span> { <span class="member">radius</span> }; 
    }

    <span class="keyword">pub fn</span> <span class="function">area</span>(&self) -> <span class="type">f64</span> {
        <span class="member">PI</span> <span class="operator">*</span> self.<span class="member">radius</span> <span class="operator">*</span> self.<span class="member">radius</span>
    }
}

<span class="comment">// Macro</span>
<span class="keyword">macro_rules!</span> <span class="macro">greet</span> {
    ($name:expr) => {
        println!(<span class="string">"Hello, {}!"</span>, $name);
    };
}

<span class="keyword">fn</span> <span class="function">main</span>() -> <span class="type">Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt;</span> {
    <span class="comment">// Variable</span>
    <span class="keyword">let</span> <span class="variable">name</span> = <span class="string">"Rustacean"</span>;
    <span class="keyword">let</span> <span class="variable">int_val</span>: <span class="type">i32</span> = <span class="number">42</span>;
    <span class="keyword">let</span> <span class="variable">float_val</span>: <span class="type">f64</span> = <span class="number">3.14</span>;
    <span class="keyword">let</span> <span class="variable">escaped_str</span> = <span class="string">"Hello\nWorld\t!"</span>;
    <span class="keyword">let</span> <span class="variable">ch</span>: <span class="type">char</span> = <span class="string">'R'</span>;
    <span class="keyword">let</span> <span class="special">special</span> = <span class="string">"@#$%^&*"</span>;
    <span class="keyword">let</span> <span class="variable">url</span> = <span class="string">"https://www.rust-lang.org"</span>;
    <span class="keyword">let</span> <span class="variable">path</span> = <span class="string">"/usr/local/bin"</span>;

    <span class="comment">// Debug</span>
    println!(<span class="string">"Debug info: {:?}"</span>, (<span class="variable">name</span>, <span class="variable">int_val</span>, <span class="variable">float_val</span>, <span class="variable">escaped_str</span>, <span class="variable">ch</span>));

    <span class="comment">// Macro call</span>
    greet!(<span class="variable">name</span>);

    <span class="comment">// Repeat</span>
    <span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>.. <span class="number">3</span> {
        println!(<span class="string">"Repeat count: {}"</span>, <span class="variable">i</span>);
    }

    <span class="comment">// Conditional</span>
    <span class="keyword">if</span> <span class="variable">int_val</span> <span class="operator">&gt;</span> <span class="number">40</span> {
        println!(<span class="string">"int_val is greater than 40"</span>);
    } <span class="keyword">else</span> {
        println!(<span class="string">"int_val is 40 or less"</span>);
    }

    <span class="comment">// Regex</span>
    <span class="keyword">let</span> <span class="variable">re</span> = Regex::new(<span class="regex">r"^\w+://[\w.-]+$"</span>)?;
    <span class="keyword">if</span> <span class="variable">re</span>.is_match(<span class="variable">url</span>) {
        println!(<span class="string">"Valid URL detected!"</span>);
    }

    <span class="comment">// HashMap</span>
    <span class="keyword">let mut</span> <span class="variable">map</span>: HashMap&lt;<span class="type">String</span>, <span class="type">i32</span>&gt; = HashMap::new();
    <span class="variable">map</span>.insert(<span class="string">"one"</span>.to_string(), <span class="number">1</span>);

    <span class="comment">// Highlights / Underlines</span>
    println!(<span class="string">"*** Highlighted: {} ***"</span>, <span class="variable">name</span>);
    println!(<span class="string">"--- Underlined: {} ---"</span>, <span class="variable">name</span>);

    <span class="comment">// Brackets / Delimiter</span>
    <span class="keyword">let</span> <span class="variable">array</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];
    <span class="keyword">let</span> <span class="variable">tuple</span> = (<span class="number">1</span>, <span class="string">"two"</span>);
    <span class="keyword">let</span> <span class="variable">sum</span> = <span class="variable">array</span>[<span class="number">0</span>] <span class="operator">+</span> <span class="variable">int_val</span>;

    <span class="comment">// Diff</span>
    println!(<span class="string">"Diff:\n- old value: {}\n+ new value: {}"</span>, <span class="number">40</span>, <span class="variable">int_val</span>);

    <span class="keyword">return</span> Ok(());
}
</pre>

</body>
</html>
